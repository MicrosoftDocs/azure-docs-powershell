<?xml version="1.0" encoding="utf-8" ?>

<helpItems xmlns="http://msh" schema="maml">
<command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Get-AzureServiceAntimalwareConfig</command:name><maml:description><maml:para>Gets configuration details for the Microsoft Antimalware extension for a service. </maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Get</command:verb><command:noun>AzureServiceAntimalwareConfig</command:noun><dev:version /></command:details><maml:description><maml:para>The Get-AzureServiceAntimalwareConfig cmdlet gets the antimalware configuration and monitoring configuration details associated with the Microsoft Antimalware extension for a cloud service.</maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Get-AzureServiceAntimalwareConfig</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of the cloud service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies a deployment slot. Valid values are: 

-- Production
-- Staging

The default value is Production. </maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">Production</command:parameterValue><command:parameterValue required="false" variableLength="false">Staging</command:parameterValue></command:parameterValueGroup></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of the cloud service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies a deployment slot. Valid values are: 

-- Production
-- Staging

The default value is Production. </maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><command:examples><command:example><maml:title>Example 1: Get configuration for a service</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureServiceAntimalwareConfig -ServiceName "ContosoService03"
</dev:code><dev:remarks><maml:para>This command returns the antimalware configuration object for the specified service name. Because this command does not specify the Slot parameter, the command gets the configuration for the default slot, Production. For services that have monitoring enabled, the command also returns a monitoring configuration object. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 2: Get configuration for a service for the Staging slot</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureServiceAntimalwareConfig -ServiceName "ContosoService03" -Slot "Staging"

</dev:code><dev:remarks><maml:para>This command returns the antimalware configuration object for the specified service name. Because this command specifies a value of Staging for the Slot parameter, the command gets the configuration for the Staging slot. For services that have monitoring enabled, the command also returns a monitoring configuration object. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402839</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Remove-AzureServiceAntimalwareExtension</maml:linkText><maml:uri>b031388b-3e41-4cfc-94ea-1a18c211a422</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Set-AzureServiceAntimalwareExtension</maml:linkText><maml:uri>9701c6bf-56b0-40c0-8b76-0dbf402b186f</maml:uri></maml:navigationLink></maml:relatedLinks></command:command><command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Get-AzureVMMicrosoftAntimalwareExtension</command:name><maml:description><maml:para>Gets the Microsoft Antimalware extension details for a virtual machine. </maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Get</command:verb><command:noun>AzureVMMicrosoftAntimalwareExtension</command:noun><dev:version /></command:details><maml:description><maml:para>The Get-AzureVMMicrosoftAntimalwareExtension cmdlet gets the Microsoft Antimalware extension details for a virtual machine. This cmdlet gets details for virtual machines that have the extension turned on programmatically by using the Set-AzureVMMicrosoftAntimalwareExtension cmdlet. Get-AzureVMMicrosoftAntimalwareExtension gets the JavaScript Object Notation (JSON) equivalent for the configuration. If monitoring is turned on, the cmdlet also gets an XML representation of the antimalware monitoring configuration. </maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Get-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue><dev:type><maml:name>IPersistentVM</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name>IPersistentVM</maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para>A virtual machine object.</maml:para></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name>VirtualMachineMicrosoftAntimalwareExtensionContext</maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para>A context object that includes the JSON antimalware configuration. If monitoring is turned on, the object includes an XML representation of the antimalware monitoring configuration. </maml:para></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><command:examples><command:example><maml:title>Example 1: Get information for the extension for a virtual machine</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Get-AzureVMMicrosoftAntimalwareExtension 
</dev:code><dev:remarks><maml:para>This command gets details for the Microsoft Antimalware extension for a virtual machine. The command uses the Get-AzureVM cmdlet to get the specified virtual machine object, and then passes the object to the current cmdlet by using the pipeline operator. Get-AzureVMMicrosoftAntimalwareExtension gets configuration information for the extension. </maml:para><maml:para>The configuration information appears in the output field labeled AntimalwareConfiguration. The configuration information for monitoring appears in the output field labeled AntimalwareMonitoringConfiguration. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402840</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureVM</maml:linkText><maml:uri>http://msdn.microsoft.com/en-us/library/dn495236.aspx</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Remove-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>d0063033-35f1-4467-bbdd-f4c569a98810</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Set-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>2140d7c4-c973-489b-b1b0-878b04c96e4b</maml:uri></maml:navigationLink></maml:relatedLinks></command:command><command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Remove-AzureServiceAntimalwareExtension</command:name><maml:description><maml:para>Removes the antimalware configuration from a cloud service. </maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Remove</command:verb><command:noun>AzureServiceAntimalwareExtension</command:noun><dev:version /></command:details><maml:description><maml:para>The Remove-AzureServiceAntimalwareExtension cmdlet removes the antimalware configuration and any associated antimalware monitoring from the Microsoft Antimalware extension associated with a cloud service. </maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Remove-AzureServiceAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of an Azure service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">System.String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies the environment of the deployment. Valid values are: Staging or Production. The default value is Production.</maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">Production</command:parameterValue><command:parameterValue required="false" variableLength="false">Staging</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="true" globbing="false" pipelineInput="true (ByPropertyName)" position="3" aliases="none"><maml:name>Role</maml:name><maml:description><maml:para>Specifies an array of roles. The default value is all roles. </maml:para></maml:description><command:parameterValue required="false" variableLength="true">String[]</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>EndpointSuffix</maml:name><maml:description><maml:para>Specifies the storage endpoint suffix.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">System.String</command:parameterValue></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Remove-AzureServiceAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of an Azure service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">System.String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies the environment of the deployment. Valid values are: Staging or Production. The default value is Production.</maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">Production</command:parameterValue><command:parameterValue required="false" variableLength="false">Staging</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>EndpointSuffix</maml:name><maml:description><maml:para>Specifies the storage endpoint suffix.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">System.String</command:parameterValue></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>EndpointSuffix</maml:name><maml:description><maml:para>Specifies the storage endpoint suffix.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">System.String</command:parameterValue><dev:type><maml:name>System.String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="true" globbing="false" pipelineInput="true (ByPropertyName)" position="3" aliases="none"><maml:name>Role</maml:name><maml:description><maml:para>Specifies an array of roles. The default value is all roles. </maml:para></maml:description><command:parameterValue required="false" variableLength="true">String[]</command:parameterValue><dev:type><maml:name>String[]</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of an Azure service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">System.String</command:parameterValue><dev:type><maml:name>System.String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies the environment of the deployment. Valid values are: Staging or Production. The default value is Production.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">System.String</command:parameterValue><dev:type><maml:name>System.String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><maml:alertSet><maml:title /><maml:alert><maml:para>This cmdlet removes only the configuration associated with the specified role. It does not uninstall or remove any already running instances of the Microsoft Antimalware extension from roles. To return these roles to a start state that does not have Microsoft Antimalware running, first remove the configuration by using this cmdlet, and then reimage or redeploy the service. </maml:para></maml:alert><maml:alert><maml:para>To avoid interfering with monitoring for other applications or services, this cmdlet removes only the collection of Microsoft Antimalware events. It does not change other application configurations or the default monitoring configuration.</maml:para></maml:alert></maml:alertSet><command:examples><command:example><maml:title>Example 1: Remove the extension</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Remove-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" 
</dev:code><dev:remarks><maml:para>This command removes the antimalware extension and monitoring of associated antimalware events from the service named ContosoService03.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 2: Remove the extension for the Staging slot</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Remove-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" -Slot "Staging"
</dev:code><dev:remarks><maml:para>This command removes the antimalware extension and monitoring of associated antimalware events from all roles in the staging slot of the service named ContosoService03.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 3: Remove the extension for a specified slot and role</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Remove-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" -Slot "Production" -Role "web role"
</dev:code><dev:remarks><maml:para>This command removes the antimalware extension and monitoring of associated antimalware events from the service named ContosoService03 in the specified slot and role.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402841</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Set-AzureServiceAntimalwareExtension</maml:linkText><maml:uri>9701c6bf-56b0-40c0-8b76-0dbf402b186f</maml:uri></maml:navigationLink></maml:relatedLinks></command:command><command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Remove-AzureVMMicrosoftAntimalwareExtension</command:name><maml:description><maml:para>Removes the Microsoft Antimalware extension from a virtual machine.</maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Remove</command:verb><command:noun>AzureVMMicrosoftAntimalwareExtension</command:noun><dev:version /></command:details><maml:description><maml:para>The Remove-AzureVMMicrosoftAntimalwareExtension cmdlet removes the Microsoft Antimalware extension from a virtual machine. If monitoring was turned on, this cmdlet also removes the collection of Microsoft Antimalware events.</maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Remove-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue><dev:type><maml:name>IPersistentVM</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name>IPersistentVM</maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para>A virtual machine object.</maml:para></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><maml:alertSet><maml:title /><maml:alert><maml:para>To avoid interfering with monitoring for other applications or services, this cmdlet removes only the collection of Microsoft Antimalware events. It does not change other application configurations or the default monitoring configuration. </maml:para></maml:alert></maml:alertSet><command:examples><command:example><maml:title>Example 1: Remove the extension</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Remove-AzureVMMicrosoftAntimalwareExtension | Update-AzureVM
</dev:code><dev:remarks><maml:para>This command removes the Microsoft Antimalware extension. The command uses the Get-AzureVM cmdlet to get the specified virtual machine object, and then passes the object to the current cmdlet by using the pipeline operator. Remove-AzureVMMicrosoftAntimalwareExtension removes the extension. The command passes the result to the Update-AzureVM cmdlet to update the virtual machine. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402842</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureVM</maml:linkText><maml:uri>http://msdn.microsoft.com/en-us/library/dn495236.aspx</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Update-AzureVM</maml:linkText><maml:uri>http://msdn.microsoft.com/en-us/library/dn495230.aspx</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>c8fce2de-0342-4690-b43b-3565a0ff0fdb</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Set-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>2140d7c4-c973-489b-b1b0-878b04c96e4b</maml:uri></maml:navigationLink></maml:relatedLinks></command:command><command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Set-AzureServiceAntimalwareExtension</command:name><maml:description><maml:para>Configures the Microsoft Antimalware extension for cloud services. </maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Set</command:verb><command:noun>AzureServiceAntimalwareExtension</command:noun><dev:version /></command:details><maml:description><maml:para>The Set-AzureServiceAntimalwareExtension cmdlet configures the Microsoft Antimalware extension for a cloud service. You can specify values that override and supplement values in the XML configuration, such as storage account context. </maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Set-AzureServiceAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of the cloud service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies a deployment slot. Valid values are: 

-- Production
-- Staging

The default value is Production.</maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">Production</command:parameterValue><command:parameterValue required="false" variableLength="false">Staging</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="true" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Role</maml:name><maml:description><maml:para>Specifies an array of roles. The default value is all roles. </maml:para></maml:description><command:parameterValue required="false" variableLength="true">String[]</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>AntimalwareConfiguration</maml:name><maml:description><maml:para>Specifies an XmlDocument object that contains the Microsoft Antimalware configuration. This object must not be $Null or empty. The configuration object must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

&lt;AntimalwareConfig&gt;&lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt;&lt;/AntimalwareConfig&gt; </maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: &lt;AntimalwareEnabled&gt;
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: &lt;RealtimeProtectionEnabled&gt;
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when &lt;AntimalwareEnabled&gt; has a value of true. 

Setting: &lt;ScheduledScanSettings&gt; isEnabled attribute
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: &lt;ScheduledScanSettings&gt; day attribute
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt;

Setting: &lt;ScheduledScanSettings&gt; time attribute 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: &lt;ScheduledScanSettings&gt; scanType attribute
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif, log, txt

For cloud service XML configuration, add each file name extension as a separate row element value in your configuration XML. In JavaScript Object Notation (JSON) configuration, add all file name extensions as a semicolon separated list. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
Description: List the paths of files or folders to exclude from scanning. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\approot\worker.dll, e:\approot\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add each excluded path as a separate row element value in your configuration XML. In JSON configuration, add all excluded paths as a semicolon separated list. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the &lt;Paths&gt; element. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\Program Files\MyApp.exe

Add each excluded process as a separate row element value in your configuration XML. 
Default: None

Setting: &lt;Monitoring&gt;
Values: ON or OFF
A value of ON enables antimalware monitoring using the Azure diagnostics extension. A value of OFF disables antimalware monitoring by removing antimalware monitoring configuration if it was previously ON. 
Default: OFF

Setting: &lt;StorageAccountName&gt;
Values: Storage account name
Specifies the name of the storage account for your Azure store table to collect antimalware events in storage. If you specified a value of ON for &lt;Monitoring&gt;, you must specify a storage account name. 
Default: None</maml:para><maml:para>The following is an example of a configuration file that contains additional settings: 

&lt;AntimalwareConfig&gt;
    &lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt; 
    &lt;RealtimeProtectionEnabled&gt;true&lt;/RealtimeProtectionEnabled&gt;     
    &lt;ScheduledScanSettings isEnabled="true" day="7" time="120" scanType="Quick" /&gt; 
    &lt;Exclusions&gt; 
        &lt;Extensions&gt;
&lt;Extension&gt;.ext1&lt;/Extension&gt;
&lt;Extension&gt;.ext2&lt;/Extension&gt;
        &lt;/Extensions&gt;
        &lt;Paths&gt;
&lt;Path&gt;c:\excluded-path-1&lt;/Path&gt;
&lt;Path&gt;c:\excluded-path-2&lt;/Path&gt;
        &lt;/Paths&gt;
        &lt;Processes&gt;
&lt;Process&gt;excludedproc1.exe&lt;/Process&gt;
&lt;Process&gt;excludedproc2.exe&lt;/Process&gt;
        &lt;/Processes&gt;
    &lt;/Exclusions&gt;
    &lt;Monitoring&gt;ON&lt;/Monitoring&gt;
    &lt;StorageAccountName&gt;contosostorage&lt;/StorageAccountName&gt;
&lt;/AntimalwareConfig&gt;  

We do not recommend the use of wildcard characters in the exclusion settings.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">XmlDocument</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">ON</command:parameterValue><command:parameterValue required="false" variableLength="false">OFF</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="6" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Set-AzureServiceAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of the cloud service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies a deployment slot. Valid values are: 

-- Production
-- Staging

The default value is Production.</maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">Production</command:parameterValue><command:parameterValue required="false" variableLength="false">Staging</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="true" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Role</maml:name><maml:description><maml:para>Specifies an array of roles. The default value is all roles. </maml:para></maml:description><command:parameterValue required="false" variableLength="true">String[]</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>AntimalwareConfiguration</maml:name><maml:description><maml:para>Specifies an XmlDocument object that contains the Microsoft Antimalware configuration. This object must not be $Null or empty. The configuration object must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

&lt;AntimalwareConfig&gt;&lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt;&lt;/AntimalwareConfig&gt; </maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: &lt;AntimalwareEnabled&gt;
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: &lt;RealtimeProtectionEnabled&gt;
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when &lt;AntimalwareEnabled&gt; has a value of true. 

Setting: &lt;ScheduledScanSettings&gt; isEnabled attribute
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: &lt;ScheduledScanSettings&gt; day attribute
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt;

Setting: &lt;ScheduledScanSettings&gt; time attribute 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: &lt;ScheduledScanSettings&gt; scanType attribute
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif, log, txt

For cloud service XML configuration, add each file name extension as a separate row element value in your configuration XML. In JavaScript Object Notation (JSON) configuration, add all file name extensions as a semicolon separated list. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
Description: List the paths of files or folders to exclude from scanning. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\approot\worker.dll, e:\approot\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add each excluded path as a separate row element value in your configuration XML. In JSON configuration, add all excluded paths as a semicolon separated list. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the &lt;Paths&gt; element. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\Program Files\MyApp.exe

Add each excluded process as a separate row element value in your configuration XML. 
Default: None

Setting: &lt;Monitoring&gt;
Values: ON or OFF
A value of ON enables antimalware monitoring using the Azure diagnostics extension. A value of OFF disables antimalware monitoring by removing antimalware monitoring configuration if it was previously ON. 
Default: OFF

Setting: &lt;StorageAccountName&gt;
Values: Storage account name
Specifies the name of the storage account for your Azure store table to collect antimalware events in storage. If you specified a value of ON for &lt;Monitoring&gt;, you must specify a storage account name. 
Default: None</maml:para><maml:para>The following is an example of a configuration file that contains additional settings: 

&lt;AntimalwareConfig&gt;
    &lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt; 
    &lt;RealtimeProtectionEnabled&gt;true&lt;/RealtimeProtectionEnabled&gt;     
    &lt;ScheduledScanSettings isEnabled="true" day="7" time="120" scanType="Quick" /&gt; 
    &lt;Exclusions&gt; 
        &lt;Extensions&gt;
&lt;Extension&gt;.ext1&lt;/Extension&gt;
&lt;Extension&gt;.ext2&lt;/Extension&gt;
        &lt;/Extensions&gt;
        &lt;Paths&gt;
&lt;Path&gt;c:\excluded-path-1&lt;/Path&gt;
&lt;Path&gt;c:\excluded-path-2&lt;/Path&gt;
        &lt;/Paths&gt;
        &lt;Processes&gt;
&lt;Process&gt;excludedproc1.exe&lt;/Process&gt;
&lt;Process&gt;excludedproc2.exe&lt;/Process&gt;
        &lt;/Processes&gt;
    &lt;/Exclusions&gt;
    &lt;Monitoring&gt;ON&lt;/Monitoring&gt;
    &lt;StorageAccountName&gt;contosostorage&lt;/StorageAccountName&gt;
&lt;/AntimalwareConfig&gt;  

We do not recommend the use of wildcard characters in the exclusion settings.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">XmlDocument</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">ON</command:parameterValue><command:parameterValue required="false" variableLength="false">OFF</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="6" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>AntimalwareConfiguration</maml:name><maml:description><maml:para>Specifies an XmlDocument object that contains the Microsoft Antimalware configuration. This object must not be $Null or empty. The configuration object must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

&lt;AntimalwareConfig&gt;&lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt;&lt;/AntimalwareConfig&gt; </maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: &lt;AntimalwareEnabled&gt;
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: &lt;RealtimeProtectionEnabled&gt;
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when &lt;AntimalwareEnabled&gt; has a value of true. 

Setting: &lt;ScheduledScanSettings&gt; isEnabled attribute
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: &lt;ScheduledScanSettings&gt; day attribute
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt;

Setting: &lt;ScheduledScanSettings&gt; time attribute 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: &lt;ScheduledScanSettings&gt; scanType attribute
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled attribute of &lt;ScheduledScanSettings&gt; 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif, log, txt

For cloud service XML configuration, add each file name extension as a separate row element value in your configuration XML. In JavaScript Object Notation (JSON) configuration, add all file name extensions as a semicolon separated list. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
Description: List the paths of files or folders to exclude from scanning. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\approot\worker.dll, e:\approot\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add each excluded path as a separate row element value in your configuration XML. In JSON configuration, add all excluded paths as a semicolon separated list. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the &lt;Paths&gt; element. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\Program Files\MyApp.exe

Add each excluded process as a separate row element value in your configuration XML. 
Default: None

Setting: &lt;Monitoring&gt;
Values: ON or OFF
A value of ON enables antimalware monitoring using the Azure diagnostics extension. A value of OFF disables antimalware monitoring by removing antimalware monitoring configuration if it was previously ON. 
Default: OFF

Setting: &lt;StorageAccountName&gt;
Values: Storage account name
Specifies the name of the storage account for your Azure store table to collect antimalware events in storage. If you specified a value of ON for &lt;Monitoring&gt;, you must specify a storage account name. 
Default: None</maml:para><maml:para>The following is an example of a configuration file that contains additional settings: 

&lt;AntimalwareConfig&gt;
    &lt;AntimalwareEnabled&gt;true&lt;/AntimalwareEnabled&gt; 
    &lt;RealtimeProtectionEnabled&gt;true&lt;/RealtimeProtectionEnabled&gt;     
    &lt;ScheduledScanSettings isEnabled="true" day="7" time="120" scanType="Quick" /&gt; 
    &lt;Exclusions&gt; 
        &lt;Extensions&gt;
&lt;Extension&gt;.ext1&lt;/Extension&gt;
&lt;Extension&gt;.ext2&lt;/Extension&gt;
        &lt;/Extensions&gt;
        &lt;Paths&gt;
&lt;Path&gt;c:\excluded-path-1&lt;/Path&gt;
&lt;Path&gt;c:\excluded-path-2&lt;/Path&gt;
        &lt;/Paths&gt;
        &lt;Processes&gt;
&lt;Process&gt;excludedproc1.exe&lt;/Process&gt;
&lt;Process&gt;excludedproc2.exe&lt;/Process&gt;
        &lt;/Processes&gt;
    &lt;/Exclusions&gt;
    &lt;Monitoring&gt;ON&lt;/Monitoring&gt;
    &lt;StorageAccountName&gt;contosostorage&lt;/StorageAccountName&gt;
&lt;/AntimalwareConfig&gt;  

We do not recommend the use of wildcard characters in the exclusion settings.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">XmlDocument</command:parameterValue><dev:type><maml:name>XmlDocument</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="true" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Role</maml:name><maml:description><maml:para>Specifies an array of roles. The default value is all roles. </maml:para></maml:description><command:parameterValue required="false" variableLength="true">String[]</command:parameterValue><dev:type><maml:name>String[]</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="1" aliases="none"><maml:name>ServiceName</maml:name><maml:description><maml:para>Specifies the name of the cloud service.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>Slot</maml:name><maml:description><maml:para>Specifies a deployment slot. Valid values are: 

-- Production
-- Staging

The default value is Production.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="6" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue><dev:type><maml:name>AzureStorageContext</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><command:examples><command:example><maml:title>Example 1: Enable the extension</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;[System.Xml.XmlDocument] $XmlConfig = New-Object System.Xml.XmlDocument 
PS C:\&gt; $XmlConfig.load('C:\configuration\contosoVM.xml')
PS C:\&gt; Set-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" -AntimalwareConfiguration $XmlConfig
Operation succeeded
</dev:code><dev:remarks><maml:para>The first two commands create an XmlDocument object that contains a configuration for the Microsoft Antimalware extension, and then stores it in the $XmlConfig variable.</maml:para><maml:para>The third command enables the Microsoft Antimalware extension for the service named ContosoService03, by using the configuration stored in $XmlConfig. Because the command does not specify the Slot parameter, the cmdlet uses the default value, Production.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 2: Enable the extension for the Staging slot</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;[System.Xml.XmlDocument] $XmlConfig = New-Object System.Xml.XmlDocument 
PS C:\&gt; $XmlConfig.load('C:\configuration\contosoVM.xml')
PS C:\&gt; Set-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" -Slot "Staging" -AntimalwareConfiguration $XmlConfig 
Operation succeeded
</dev:code><dev:remarks><maml:para>The first two commands create an XmlDocument object that contains a configuration for the Microsoft Antimalware extension, and then stores it in the $XmlConfig variable.</maml:para><maml:para>The third command enables the Microsoft Antimalware extension for the service named ContosoService03, by using the configuration stored in $XmlConfig. This command specifies a value of Staging for the Slot parameter.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 3: Enable the extension with monitoring</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;[System.Xml.XmlDocument] $XmlConfig = New-Object System.Xml.XmlDocument 
PS C:\&gt; $XmlConfig.load('C:\configuration\contosoVM.xml')
PS C:\&gt; $StorageContext = New-AzureStorageContext -StorageAccountName "contosostoragemain" -StorageAccountKey (Get-AzureStorageKey -StorageAccountName "Contosostoragemain").Primary
PS C:\&gt; Set-AzureServiceAntimalwareExtension -ServiceName "ContosoService03" -AntimalwareConfiguration $XmlConfig -Monitoring ON -StorageContext $StorageContext
</dev:code><dev:remarks><maml:para>The first two commands create an XmlDocument object that contains a configuration for the Microsoft Antimalware extension, and then stores it in the $XmlConfig variable.</maml:para><maml:para>The third command creates an AzureStorageContext object by using the New-AzureStorageContext cmdlet, and then stores it in the $StorageContext variable. </maml:para><maml:para>The final command enables the Microsoft Antimalware extension for the service named ContosoService03, by using the configuration stored in $XmlConfig. This command also specifies a value of ON for the Monitoring parameter and specifies the Azure storage context stored in $StorageContext. The values specified by these parameters override any corresponding values for these parameters that were specified within the XML configuration.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402843</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureServiceAntimalwareConfig</maml:linkText><maml:uri>ed51d91a-9688-4595-ae4d-2d1a9a9234df</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Remove-AzureServiceAntimalwareExtension</maml:linkText><maml:uri>b031388b-3e41-4cfc-94ea-1a18c211a422</maml:uri></maml:navigationLink></maml:relatedLinks></command:command><command:command xmlns:maml="http://schemas.microsoft.com/maml/2004/10" xmlns:command="http://schemas.microsoft.com/maml/dev/command/2004/10" xmlns:dev="http://schemas.microsoft.com/maml/dev/2004/10" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:xlink="http://www.w3.org/1999/xlink"><command:details><command:name>Set-AzureVMMicrosoftAntimalwareExtension</command:name><maml:description><maml:para>Configures the Microsoft Antimalware extension for a virtual machine. </maml:para></maml:description><maml:copyright><maml:para /></maml:copyright><command:verb>Set</command:verb><command:noun>AzureVMMicrosoftAntimalwareExtension</command:noun><dev:version /></command:details><maml:description><maml:para>The Set-AzureVMMicrosoftAntimalwareExtension cmdlet configures the Microsoft Antimalware extension for a virtual machine. You can enable, disable, or uninstall the extension. </maml:para></maml:description><command:syntax><command:syntaxItem><maml:name>Set-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>AntimalwareConfigFile</maml:name><maml:description><maml:para>Specifies the absolute path to the Microsoft Antimalware configuration file. Dont specify this parameter if you specify the AntimalwareConfiguration parameter. The configuration file must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

{ "AntimalwareEnabled": true }</maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: AntimalwareEnabled
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: RealtimeProtectionEnabled
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when AntimalwareEnabled has a value of true. 

Setting: ScheduledScanSettings isEnabled property
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: ScheduledScanSettings day property
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled property of ScheduledScanSettings

Setting: ScheduledScanSettings time property 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: ScheduledScanSettings scanType property
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To specify multiple file types to exclude, separate each entry with a semicolon. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif; log; txt

For JavaScript Object Notation (JSON) configuration, separate multiple file name extensions by using the semicolon. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
List the paths of files or folders to exclude from scanning. To specify multiple paths to exclude, separate each entry with a semicolon. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\\approot\\worker.dll; e:\\approot\\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add all excluded paths as a semicolon separated list in JSON configuration. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the Paths property. To specify multiple processes to exclude, separate each entry with a semicolon. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\\Program Files\\MyApp.exe

This example uses a second slash as an escape character. Add all excluded processes as a semicolon separated list in JSON configuration. 
Default: None</maml:para><maml:para>The following is an example of a configuration file containing additional settings. Note that slash characters in exclusion paths must be properly escaped, by specifying two slashes. Using wildcard characters in the exclusion set is not recommended.</maml:para><maml:para>{
  "AntimalwareEnabled": true, 
    "RealtimeProtectionEnabled": true, 
       "ScheduledScanSettings": {
        "isEnabled": true, 
        "day": 1, 
        "time": 120, 
        "scanType": "Full"
  },
  "Exclusions": {
    "Extensions": ".ext1;.ext2",
    "Paths": "c:\\excluded-path-1;c:\\excluded-path-2",
    "Processes": "excludedproc1.exe;excludedproc2.exe"
  }
}
</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Version</maml:name><maml:description><maml:para>Specifies the extension version as a string.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to the specified storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">ON</command:parameterValue><command:parameterValue required="false" variableLength="false">OFF</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Set-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>AntimalwareConfiguration</maml:name><maml:description><maml:para>Specifies a string object that contains the Microsoft Antimalware configuration. This object must not be $Null or empty. Dont specify this parameter if you specify the AntimalwareConfigFile parameter. The configuration object must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

{ "AntimalwareEnabled": true }</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Version</maml:name><maml:description><maml:para>Specifies the extension version as a string.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to the specified storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValueGroup><command:parameterValue required="false" variableLength="false">ON</command:parameterValue><command:parameterValue required="false" variableLength="false">OFF</command:parameterValue></command:parameterValueGroup></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByValue,ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Set-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>Version</maml:name><maml:description><maml:para>Specifies the extension version as a string.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="3" aliases="none"><maml:name>Disable</maml:name><maml:description><maml:para>Indicates that the cmdlet disables the Microsoft Antimalware extension. To re-enable the extension on the same virtual machine, run Set-AzureVMMicrosoftAntimalwareExtension without the Disable parameter.</maml:para></maml:description></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Set-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>NoConfig</maml:name><maml:description><maml:para></maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: AntimalwareEnabled
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: RealtimeProtectionEnabled
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when AntimalwareEnabled has a value of true. 

Setting: ScheduledScanSettings isEnabled property
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: ScheduledScanSettings day property
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled property of ScheduledScanSettings

Setting: ScheduledScanSettings time property 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: ScheduledScanSettings scanType property
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To specify multiple file types to exclude, separate each entry with a semicolon. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif; log; txt

For JavaScript Object Notation (JSON) configuration, separate multiple file name extensions by using the semicolon. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
List the paths of files or folders to exclude from scanning. To specify multiple paths to exclude, separate each entry with a semicolon. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\\approot\\worker.dll; e:\\approot\\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add all excluded paths as a semicolon separated list in JSON configuration. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the Paths property. To specify multiple processes to exclude, separate each entry with a semicolon. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\\Program Files\\MyApp.exe

This example uses a second slash as an escape character. Add all excluded processes as a semicolon separated list in JSON configuration. 
Default: None</maml:para><maml:para>The following is an example of a configuration file containing additional settings. Note that slash characters in exclusion paths must be properly escaped, by specifying two slashes. Using wildcard characters in the exclusion set is not recommended.</maml:para><maml:para>{
  "AntimalwareEnabled": true, 
    "RealtimeProtectionEnabled": true, 
       "ScheduledScanSettings": {
        "isEnabled": true, 
        "day": 1, 
        "time": 120, 
        "scanType": "Full"
  },
  "Exclusions": {
    "Extensions": ".ext1;.ext2",
    "Paths": "c:\\excluded-path-1;c:\\excluded-path-2",
    "Processes": "excludedproc1.exe;excludedproc2.exe"
  }
}
</maml:para></maml:description></command:parameter></command:syntaxItem><command:syntaxItem><maml:name>Set-AzureVMMicrosoftAntimalwareExtension</maml:name><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>Uninstall</maml:name><maml:description><maml:para>Indicates that this cmdlet uninstalls the Microsoft Antimalware extension from the virtual machine. If monitoring was turned on, the cmdlet also removes the collection of Microsoft Antimalware events.</maml:para></maml:description></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue></command:parameter></command:syntaxItem></command:syntax><command:parameters><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>AntimalwareConfigFile</maml:name><maml:description><maml:para>Specifies the absolute path to the Microsoft Antimalware configuration file. Dont specify this parameter if you specify the AntimalwareConfiguration parameter. The configuration file must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

{ "AntimalwareEnabled": true }</maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: AntimalwareEnabled
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: RealtimeProtectionEnabled
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when AntimalwareEnabled has a value of true. 

Setting: ScheduledScanSettings isEnabled property
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: ScheduledScanSettings day property
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled property of ScheduledScanSettings

Setting: ScheduledScanSettings time property 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: ScheduledScanSettings scanType property
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To specify multiple file types to exclude, separate each entry with a semicolon. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif; log; txt

For JavaScript Object Notation (JSON) configuration, separate multiple file name extensions by using the semicolon. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
List the paths of files or folders to exclude from scanning. To specify multiple paths to exclude, separate each entry with a semicolon. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\\approot\\worker.dll; e:\\approot\\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add all excluded paths as a semicolon separated list in JSON configuration. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the Paths property. To specify multiple processes to exclude, separate each entry with a semicolon. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\\Program Files\\MyApp.exe

This example uses a second slash as an escape character. Add all excluded processes as a semicolon separated list in JSON configuration. 
Default: None</maml:para><maml:para>The following is an example of a configuration file containing additional settings. Note that slash characters in exclusion paths must be properly escaped, by specifying two slashes. Using wildcard characters in the exclusion set is not recommended.</maml:para><maml:para>{
  "AntimalwareEnabled": true, 
    "RealtimeProtectionEnabled": true, 
       "ScheduledScanSettings": {
        "isEnabled": true, 
        "day": 1, 
        "time": 120, 
        "scanType": "Full"
  },
  "Exclusions": {
    "Extensions": ".ext1;.ext2",
    "Paths": "c:\\excluded-path-1;c:\\excluded-path-2",
    "Processes": "excludedproc1.exe;excludedproc2.exe"
  }
}
</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="2" aliases="none"><maml:name>AntimalwareConfiguration</maml:name><maml:description><maml:para>Specifies a string object that contains the Microsoft Antimalware configuration. This object must not be $Null or empty. Dont specify this parameter if you specify the AntimalwareConfigFile parameter. The configuration object must include, at a minimum, the following content to enable the Microsoft Antimalware extension: 

{ "AntimalwareEnabled": true }</maml:para></maml:description><command:parameterValue required="true" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="3" aliases="none"><maml:name>Disable</maml:name><maml:description><maml:para>Indicates that the cmdlet disables the Microsoft Antimalware extension. To re-enable the extension on the same virtual machine, run Set-AzureVMMicrosoftAntimalwareExtension without the Disable parameter.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">SwitchParameter</command:parameterValue><dev:type><maml:name>SwitchParameter</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>Monitoring</maml:name><maml:description><maml:para>Specifies whether to collect Microsoft Antimalware events. Valid values are: 

-- ON. Collect Microsoft Antimalware events to the specified storage context.
-- OFF. Do not collect Microsoft Antimalware events. </maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="4" aliases="none"><maml:name>NoConfig</maml:name><maml:description><maml:para></maml:para><maml:para>You can configure the following settings in this configuration file: 

Setting: AntimalwareEnabled
Values: true (case sensitive) 
A value of true enables the Microsoft Antimalware extension. The value false is not supported. This setting is required. 
Default: None

Setting: RealtimeProtectionEnabled
Values: true or false (case sensitive) 
A value of true enables Real-time protection. A value of false disables Real-time protection. 
Default: true when AntimalwareEnabled has a value of true. 

Setting: ScheduledScanSettings isEnabled property
Values: true or false (case sensitive) 
Enables or disables a periodic scan for active malware. 
Default: false

Setting: ScheduledScanSettings day property
Values: 0 through 8

 -- 0: Scan daily
-- 1: Scan Sunday
-- 2: Scan Monday
-- 3: Scan Tuesday
-- 4: Scan Wednesday
-- 5: Scan Thursday
-- 6: Scan Friday
-- 7: Scan Saturday
-- 8: Disabled

Default: 7 if you specify a value of true for the isEnabled property of ScheduledScanSettings

Setting: ScheduledScanSettings time property 
Values: 0 through 1440
Specify the hour at which to begin the scan in increments of 60 minutes after midnight. Specify a value of 60 for 1:00 A.M. 
Default: 120 if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: ScheduledScanSettings scanType property
Values: Quick or Full
Default: Quick if you specify a value of true for the isEnabled property of ScheduledScanSettings 

Setting: Exclusions for file name extensions
Values: File name extensions
List the file name extensions to exclude from scanning. To specify multiple file types to exclude, separate each entry with a semicolon. To exclude files that have the file name extensions .gif, .log, or .txt, specify the following text: 

gif; log; txt

For JavaScript Object Notation (JSON) configuration, separate multiple file name extensions by using the semicolon. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for paths
Values: File and folder paths
List the paths of files or folders to exclude from scanning. To specify multiple paths to exclude, separate each entry with a semicolon. To exclude the file worker.dll in the e:\approot folder and anything under the folder e:\approot\temp, specify the following paths: 

e:\\approot\\worker.dll; e:\\approot\\temp

For JSON configuration for virtual machines, use a second slash as an escape character for the slash, as in e:\\approot\\worker.dll. 
Add all excluded paths as a semicolon separated list in JSON configuration. We do not recommend that you use wildcard characters. 
Default: None

Setting: Exclusions for processes
Values: Process names
List the process exclusions. The Microsoft Antimalware extension does not scan any file that an excluded process opens. The Microsoft Antimalware extension scans the process itself. To exclude the process itself, use the Paths property. To specify multiple processes to exclude, separate each entry with a semicolon. The Microsoft Antimalware extension excludes from scanning any file opened by the MyApp.exe based on this example: 

C:\\Program Files\\MyApp.exe

This example uses a second slash as an escape character. Add all excluded processes as a semicolon separated list in JSON configuration. 
Default: None</maml:para><maml:para>The following is an example of a configuration file containing additional settings. Note that slash characters in exclusion paths must be properly escaped, by specifying two slashes. Using wildcard characters in the exclusion set is not recommended.</maml:para><maml:para>{
  "AntimalwareEnabled": true, 
    "RealtimeProtectionEnabled": true, 
       "ScheduledScanSettings": {
        "isEnabled": true, 
        "day": 1, 
        "time": 120, 
        "scanType": "Full"
  },
  "Exclusions": {
    "Extensions": ".ext1;.ext2",
    "Paths": "c:\\excluded-path-1;c:\\excluded-path-2",
    "Processes": "excludedproc1.exe;excludedproc2.exe"
  }
}
</maml:para></maml:description><command:parameterValue required="true" variableLength="false">SwitchParameter</command:parameterValue><dev:type><maml:name>SwitchParameter</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="5" aliases="none"><maml:name>StorageContext</maml:name><maml:description><maml:para>Specifies an Azure storage context for Microsoft Antimalware monitoring. You must specify a valid storage context when monitoring is set to ON.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">AzureStorageContext</command:parameterValue><dev:type><maml:name>AzureStorageContext</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByPropertyName)" position="2" aliases="none"><maml:name>Uninstall</maml:name><maml:description><maml:para>Indicates that this cmdlet uninstalls the Microsoft Antimalware extension from the virtual machine. If monitoring was turned on, the cmdlet also removes the collection of Microsoft Antimalware events.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">SwitchParameter</command:parameterValue><dev:type><maml:name>SwitchParameter</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="false" variableLength="false" globbing="false" pipelineInput="true(ByPropertyName)" position="3" aliases="none"><maml:name>Version</maml:name><maml:description><maml:para>Specifies the extension version as a string.</maml:para></maml:description><command:parameterValue required="false" variableLength="false">String</command:parameterValue><dev:type><maml:name>String</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter><command:parameter required="true" variableLength="false" globbing="false" pipelineInput="true (ByValue, ByPropertyName)" position="named" aliases="InputObject"><maml:name>VM</maml:name><maml:description><maml:para>Specifies the virtual machine as an IPersistentVM object.</maml:para></maml:description><command:parameterValue required="true" variableLength="false">IPersistentVM</command:parameterValue><dev:type><maml:name>IPersistentVM</maml:name><maml:uri /></dev:type><dev:defaultValue>none</dev:defaultValue></command:parameter></command:parameters><command:inputTypes><command:inputType><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:inputType></command:inputTypes><command:returnValues><command:returnValue><dev:type><maml:name></maml:name><maml:uri></maml:uri><maml:description><maml:para /></maml:description></dev:type><maml:description><maml:para></maml:para></maml:description></command:returnValue></command:returnValues><command:terminatingErrors /><command:nonTerminatingErrors /><command:examples><command:example><maml:title>Example 1: Enable the extension by using a configuration file</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.json' | Update-AzureVM
</dev:code><dev:remarks><maml:para>This command enables the Microsoft Antimalware extension by using a configuration file. The command uses the Get-AzureVM cmdlet to get the specified virtual machine object, and then passes the object to the current cmdlet by using the pipeline operator. </maml:para><maml:para>The AntimalwareConfigFile parameter specifies a configuration file for the Microsoft Antimalware extension. Set-AzureVMMicrosoftAntimalwareExtension applies the configuration that the file specifies to the virtual machine, and then passes the result to the Update-AzureVM cmdlet to update the virtual machine. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 2: Enable the extension and enable monitoring</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;$StorageContext = New-AzureStorageContext -StorageAccountName "contosostoragemain" -StorageAccountKey (Get-AzureStorageKey -StorageAccountName "Contosostoragemain").Primary
PS C:\&gt; Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfigFile 'C:\configuration\contosoVM.xml" -Monitoring ON -StorageContext $StorageContext | Update-AzureVM
</dev:code><dev:remarks><maml:para>The first command creates an AzureStorageContext object by using the New-AzureStorageContext cmdlet, and then stores it in the $StorageContext variable. </maml:para><maml:para>The second command enables the Microsoft Antimalware extension, and enables monitoring. The command uses Get-AzureVM to get the specified virtual machine object, and then passes the object to the current cmdlet. </maml:para><maml:para>The command specifies a value of ON for the Monitoring parameter and specifies the Azure storage context stored in $StorageContext, and then passes the result to the Update-AzureVM cmdlet. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 3: Enable the extension by specifying a configuration object</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;$config_string = '{"AntimalwareEnabled" : true}'
PS C:\&gt; Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -AntimalwareConfiguration $config_string | Update-AzureVM
</dev:code><dev:remarks><maml:para>The first command creates a string object by reading a JSON configuration for the Microsoft Antimalware extension, and then storing it in the $config_string variable.</maml:para><maml:para>The second command uses Get-AzureVM to get the specified virtual machine object, and then passes the object to Set-AzureVMMicrosoftAntimalwareExtension to apply that configuration to the virtual machine. The AntimalwareConfiguration parameter specifies the configuration information stored in $config_string. The result is passed to the Update-AzureVM cmdlet.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 4: Disable the extension</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureVM -ServiceName "ContosoService03" -Name "ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Disable | Update-AzureVM 
</dev:code><dev:remarks><maml:para>This command disables the extension without removing it. The command uses Get-AzureVM to get the specified virtual machine object, and then passes the object to the current cmdlet. </maml:para><maml:para>Set-AzureVMMicrosoftAntimalwareExtension disables the Microsoft Antimalware extension for the virtual machine, and then passes the result to Update-AzureVM.</maml:para><maml:para>To enable the extension on the same virtual machine again, run Set-AzureVMMicrosoftAntimalwareExtension cmdlet without specifying the Disable parameter. </maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example><command:example><maml:title>Example 5: Remove the extension</maml:title><maml:introduction><maml:para></maml:para></maml:introduction><dev:code>PS C:\&gt;Get-AzureVM -ServiceName "ContosoService03" -Name"ContosoVM22" | Set-AzureVMMicrosoftAntimalwareExtension -Uninstall | Update-AzureVM
</dev:code><dev:remarks><maml:para>This command removes the Microsoft Antimalware extension from the virtual machine. The command uses Get-AzureVM to get the specified virtual machine object, and then passes the object to the current cmdlet. </maml:para><maml:para>Set-AzureVMMicrosoftAntimalwareExtension removes the extension. If monitoring was turned on, the cmdlet also removes the collection of Microsoft Antimalware events. The command passes the result to Update-AzureVM.</maml:para><maml:para /><maml:para /></dev:remarks><command:commandLines><command:commandLine><command:commandText /></command:commandLine></command:commandLines></command:example></command:examples><maml:relatedLinks><maml:navigationLink><maml:linkText>Online Version:</maml:linkText><maml:uri>http://go.microsoft.com/fwlink/?LinkID=402844</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureVM</maml:linkText><maml:uri>http://msdn.microsoft.com/en-us/library/dn495236.aspx</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Update-AzureVM</maml:linkText><maml:uri>http://msdn.microsoft.com/en-us/library/dn495230.aspx</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Get-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>c8fce2de-0342-4690-b43b-3565a0ff0fdb</maml:uri></maml:navigationLink><maml:navigationLink><maml:linkText>Remove-AzureVMMicrosoftAntimalwareExtension</maml:linkText><maml:uri>d0063033-35f1-4467-bbdd-f4c569a98810</maml:uri></maml:navigationLink></maml:relatedLinks></command:command></helpItems>
